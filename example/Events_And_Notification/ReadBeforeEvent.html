---
layout: default
title: Before Read Event Handling
permalink: /example/Events_And_Notification/ReadBeforeEvent/
---

<div class='card-panel waves-effect waves-dark yellow darken-4' style=' width: 100%; padding: 10px;' >
    <span class='white-text'>Work in progress, these are autogenerated examples from code</span>
</div>

<h4>Events And Notification: Before Read Event Handling</h4>
<div class='indent'>
  <h5>Show how to implement read before event</h5>
  <div class='indent'>

<div class='highlight-title example-code'> RunEngine.cs </div><div class='example-code-high'>
{% highlight csharp %}

/// <summary>
/// reads report.inp and skips all the records that are not detail records using a simple criteria
/// </summary>
public override void Run()
{
    var engine = new FileHelperEngine<OrdersFixed>();
    engine.BeforeReadRecord += BeforeEvent;
    var result = engine.ReadFile("report.inp");

    foreach (var value in result)
        Console.WriteLine("Customer: {0} Freight: {1}", value.CustomerID, value.Freight);
}

private void BeforeEvent(EngineBase engine, BeforeReadEventArgs<OrdersFixed> e)
{
    if (e.RecordLine.StartsWith(" ") ||
        e.RecordLine.StartsWith("-"))
        e.SkipThisRecord = true;

    //  Sometimes changing the record line can be useful, for example to correct for
    //  a bad data layout.  Here is an example of this, commented out for this example

    //if (e.RecordLine.StartsWith(" "))
    //   e.RecordLine = "Be careful!";
}


{%  endhighlight %}
</div>



<div class='highlight-title example-code'> report.inp </div><div class='example-code-high'>
{% highlight csharp %}
-----------------------------------------------------
                      XXX Enterprise
        -----------------------------------------------------
        10249   TOMSP  05071996      11.61
        10250   HANAR  08071996      65.83
        10251   VICTE  08071996      41.34
                                               Page 1
        -----------------------------------------------------
                      YYY Enterprise
        -----------------------------------------------------
        10269   TOMSP  05071996      11.61
        10230   HANAR  08071996      65.83
        10151   VICTE  08071996      41.34
        
{%  endhighlight %}
</div>



<div class='highlight-title example-code'> Report layout.cs </div><div class='example-code-high'>
{% highlight csharp %}

/// <summary>
/// Layout of the records we want for the report in report.inp
/// </summary>
/// <remarks>
/// This only covers the detail records
/// </remarks>
[FixedLengthRecord(FixedMode.AllowVariableLength)]
[IgnoreEmptyLines]
public class OrdersFixed
{
    [FieldFixedLength(7)]
    public int OrderID;

    [FieldFixedLength(8)]
    public string CustomerID;

    [FieldFixedLength(8)]
    public DateTime OrderDate;

    [FieldFixedLength(11)]
    public decimal Freight;
}


{%  endhighlight %}
</div>


  </div>
</div>
