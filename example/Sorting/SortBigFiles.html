---
layout: default
title: Sort Big File with Record Class
description: Shows how to sort a big file using a record class
permalink: /example/Sorting/SortBigFiles/
editlink:  'https://github.com/MarcosMeli/FileHelpers/edit/master/FileHelpers.Examples/Examples/60.Sorting/10.SortBigFiles.cs'
---

<div class='card-panel waves-effect waves-dark white' style='padding: 10px; text-align: right; float: right;'>
    <span class=''>Auto generated from code, click in the <a href='{{ page.editlink }}'><i class='mdi-editor-mode-edit'></i> button</a> to edit it here</span>
</div>

<h4>Sorting: Sort Big File with Record Class</h4>
<div class='indent'>
  <h5>Shows how to sort a big file using a record class</h5>
  <div class='indent'>

<p>If you need to sort a really big file (20Mb and more) you have the BigFileSorter</p>


<p>Implements <a href="http://en.wikipedia.org/wiki/External_sorting">External Sorting (wikipedia)</a></p>


<p>The Sorter will split the file in blocks, write them to temp files, and finally join all in a sorted file</p>


<div class='highlight-title example-code'> SortingWithRecord.cs </div><div class='example-code-high'>
{% highlight csharp %}


// OrdersTab must be IComparable<OrdersTab>

// We recommend to split in blocks between 1 and 40 Mb
var sorter = new BigFileSorter<OrdersTab>(10*1024*1024); // 10 Mb blocks

sorter.Sort("unsorted.txt", "sorted.txt");


{%  endhighlight %}
</div>



<div class='highlight-title example-code'> OrdersTab.cs </div><div class='example-code-high'>
{% highlight csharp %}

[DelimitedRecord("\t")]
public class OrdersTab
    : IComparable<OrdersTab>
{
    public int OrderID;

    public string CustomerID;

    public int EmployeeID;

    public DateTime OrderDate;

    [FieldConverter(ConverterKind.Date, "ddMMyyyy")]
    public DateTime RequiredDate;

    [FieldNullValue(typeof (DateTime), "2005-1-1")]
    public DateTime ShippedDate;

    public int ShipVia;

    public decimal Freight;

    #region IComparable<OrdersTab> Members

    public int CompareTo(OrdersTab other)
    {
        return this.OrderID.CompareTo(other.OrderID);
    }

    #endregion
}


{%  endhighlight %}
</div>


  </div>
</div>
